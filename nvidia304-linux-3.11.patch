
Fix build with 3.11 series kernels.

Signed-off-by: Thomas Backlund <tmb@mageia.org>

--- NVIDIA-Linux-x86_64-304.108/kernel/nv-linux.h.orig	2013-09-25 23:33:51.000000000 +0300
+++ NVIDIA-Linux-x86_64-304.108/kernel/nv-linux.h	2013-09-25 23:37:09.949121989 +0300
@@ -1039,7 +1039,11 @@ static inline int nv_execute_on_all_cpus
 #endif
 
 #if !defined(NV_VMWARE)
+#if (LINUX_VERSION_CODE < KERNEL_VERSION(3, 11, 0))
 #define NV_NUM_PHYSPAGES                num_physpages
+#else
+#define NV_NUM_PHYSPAGES                totalram_pages
+#endif
 #define NV_GET_CURRENT_PROCESS()        current->tgid
 #define NV_IN_ATOMIC()                  in_atomic()
 #define NV_LOCAL_BH_DISABLE()           local_bh_disable()
